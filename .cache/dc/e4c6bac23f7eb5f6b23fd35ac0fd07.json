{"id":"RWL8","dependencies":[{"name":"C:\\Projects\\away-debug-ext\\package.json","includedInParent":true,"mtime":1587380229561},{"name":"./lib/API.js","loc":{"line":1,"column":40},"parent":"C:\\Projects\\away-debug-ext\\src\\js\\devtools.js","resolved":"C:\\Projects\\away-debug-ext\\src\\js\\lib\\API.js"}],"generated":{"js":"\"use strict\";var n=require(\"./lib/API.js\");function t(n,t,e,o,r,i,u){try{var a=n[i](u),c=a.value}catch(s){return void e(s)}a.done?t(c):Promise.resolve(c).then(o,r)}function e(n){return function(){var e=this,o=arguments;return new Promise(function(r,i){var u=n.apply(e,o);function a(n){t(u,r,i,a,c,\"next\",n)}function c(n){t(u,r,i,a,c,\"throw\",n)}a(void 0)})}}var o=new n.APIServer(n.PAGES.DEVTOOL),r=void 0,i=!1,u=!1;function a(){return c.apply(this,arguments)}function c(){return(c=e(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i){t.next=2;break}return t.abrupt(\"return\",!1);case 2:return t.abrupt(\"return\",o.send(n.EVENT.TEST,{target:n.PAGES.CONTENT}).then(function(n){return n.status}));case 3:case\"end\":return t.stop()}},t)}))).apply(this,arguments)}var s=void 0;function E(n){s&&(n.answer({}),s(n.blob))}function T(t,e){var r=t.type,i=t.limit,a=void 0===i?5e5:i;s=e,o.send(n.EVENT.LOG_INIT,{logType:r,limit:a,target:n.PAGES.CONTENT}).then(function(){console.log(\"register blob flow\"),o.onFlow(n.EVENT.LOG_STOP,function(){return d(!0)}),o.onFlow(n.EVENT.LOG_BLOB,E),u=!0})}function d(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];u&&(u=!1,console.debug(\"DEVTOOL\",\"STOP CAPTURE\"),o.offFlow(n.EVENT.LOG_BLOB,E),t||o.send(n.EVENT.LOG_STOP,{target:n.PAGES.CONTENT}),r.emit(n.EVENT.LOG_STOP),s=void 0)}var f={getStatus:a,captureLogs:T,stopCapture:d};function l(t){setTimeout(function(){r=t.PANEL_API,console.log(t),o.connect(),o.send(n.EVENT.INJECT,{tabId:chrome.devtools.inspectedWindow.tabId,scriptToInject:\"js/content.js\"}).then(function(n){var t=n.status;i=t,r.init(f)})},100)}function v(t){r=void 0,o.send(n.EVENT.DETACH,{target:n.PAGES.CONTENT}),o.close()}chrome.devtools.panels.create(\"AwayFL\",\"/gfx/icon16.png\",\"panel.html\",function(n){n.onShown.addListener(l),n.onHidden.addListener(v)});"},"sourceMaps":{"js":{"mappings":[{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":0}},{"source":"js/devtools.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"js/devtools.js","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"js/devtools.js","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"js/devtools.js","original":{"line":1,"column":0},"generated":{"line":1,"column":27}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":43}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":52}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":54}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":56}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":58}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":60}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":62}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":64}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":66}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":69}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":73}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":77}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":79}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":81}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":84}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":87}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":89}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":91}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":97}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":103}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":106}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":118}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":120}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":123}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":125}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":130}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":132}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":135}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":143}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":151}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":154}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":159}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":161}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":164}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":173}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":175}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":178}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":185}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":196}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":200}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":202}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":207}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":209}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":219}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":226}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":230}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":238}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":247}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":249}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":252}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":256}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":258}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":260}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":266}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":268}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":271}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":280}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":282}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":285}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":287}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":289}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":291}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":293}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":295}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":297}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":304}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":307}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":316}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":318}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":321}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":323}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":325}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":327}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":329}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":331}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":333}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":341}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":344}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":351}},{"source":"js/devtools.js","original":{"line":3,"column":0},"generated":{"line":1,"column":357}},{"source":"js/devtools.js","name":"api","original":{"line":3,"column":6},"generated":{"line":1,"column":361}},{"source":"js/devtools.js","original":{"line":3,"column":12},"generated":{"line":1,"column":363}},{"source":"js/devtools.js","name":"APIServer","original":{"line":3,"column":16},"generated":{"line":1,"column":367}},{"source":"js/devtools.js","original":{"line":3,"column":12},"generated":{"line":1,"column":369}},{"source":"js/devtools.js","name":"PAGES","original":{"line":3,"column":26},"generated":{"line":1,"column":379}},{"source":"js/devtools.js","name":"DEVTOOL","original":{"line":3,"column":32},"generated":{"line":1,"column":381}},{"source":"js/devtools.js","name":"DEVTOOL","original":{"line":3,"column":32},"generated":{"line":1,"column":387}},{"source":"js/devtools.js","name":"contex","original":{"line":7,"column":4},"generated":{"line":1,"column":396}},{"source":"js/devtools.js","name":"undefined","original":{"line":7,"column":13},"generated":{"line":1,"column":403}},{"source":"js/devtools.js","name":"injectionStatus","original":{"line":8,"column":4},"generated":{"line":1,"column":405}},{"source":"js/devtools.js","original":{"line":8,"column":22},"generated":{"line":1,"column":408}},{"source":"js/devtools.js","name":"isCapture","original":{"line":9,"column":4},"generated":{"line":1,"column":410}},{"source":"js/devtools.js","original":{"line":9,"column":16},"generated":{"line":1,"column":413}},{"source":"js/devtools.js","name":"getStatus","original":{"line":11,"column":15},"generated":{"line":1,"column":415}},{"source":"js/devtools.js","name":"getStatus","original":{"line":11,"column":15},"generated":{"line":1,"column":424}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":428}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":435}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":437}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":443}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":448}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":459}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":468}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":472}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":479}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":481}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":483}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":502}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":507}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":516}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":520}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":527}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":546}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":551}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":560}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":563}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":570}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":577}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":579}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":584}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":586}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":592}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":597}},{"source":"js/devtools.js","name":"injectionStatus","original":{"line":12,"column":6},"generated":{"line":1,"column":599}},{"source":"js/devtools.js","name":"injectionStatus","original":{"line":12,"column":6},"generated":{"line":1,"column":602}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":604}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":605}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":607}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":612}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":614}},{"source":"js/devtools.js","original":{"line":13,"column":9},"generated":{"line":1,"column":620}},{"source":"js/devtools.js","original":{"line":13,"column":9},"generated":{"line":1,"column":627}},{"source":"js/devtools.js","original":{"line":13,"column":9},"generated":{"line":1,"column":629}},{"source":"js/devtools.js","original":{"line":13,"column":9},"generated":{"line":1,"column":636}},{"source":"js/devtools.js","original":{"line":13,"column":9},"generated":{"line":1,"column":646}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":649}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":654}},{"source":"js/devtools.js","name":"api","original":{"line":16,"column":8},"generated":{"line":1,"column":656}},{"source":"js/devtools.js","name":"api","original":{"line":16,"column":8},"generated":{"line":1,"column":663}},{"source":"js/devtools.js","name":"api","original":{"line":16,"column":8},"generated":{"line":1,"column":665}},{"source":"js/devtools.js","name":"api","original":{"line":16,"column":8},"generated":{"line":1,"column":672}},{"source":"js/devtools.js","name":"api","original":{"line":16,"column":8},"generated":{"line":1,"column":681}},{"source":"js/devtools.js","name":"send","original":{"line":16,"column":12},"generated":{"line":1,"column":683}},{"source":"js/devtools.js","name":"EVENT","original":{"line":16,"column":17},"generated":{"line":1,"column":688}},{"source":"js/devtools.js","name":"TEST","original":{"line":16,"column":23},"generated":{"line":1,"column":690}},{"source":"js/devtools.js","name":"TEST","original":{"line":16,"column":23},"generated":{"line":1,"column":696}},{"source":"js/devtools.js","original":{"line":16,"column":29},"generated":{"line":1,"column":701}},{"source":"js/devtools.js","name":"target","original":{"line":16,"column":31},"generated":{"line":1,"column":702}},{"source":"js/devtools.js","name":"PAGES","original":{"line":16,"column":39},"generated":{"line":1,"column":709}},{"source":"js/devtools.js","name":"CONTENT","original":{"line":16,"column":45},"generated":{"line":1,"column":711}},{"source":"js/devtools.js","name":"CONTENT","original":{"line":16,"column":45},"generated":{"line":1,"column":717}},{"source":"js/devtools.js","name":"then","original":{"line":16,"column":56},"generated":{"line":1,"column":727}},{"source":"js/devtools.js","original":{"line":16,"column":61},"generated":{"line":1,"column":732}},{"source":"js/devtools.js","name":"e","original":{"line":16,"column":62},"generated":{"line":1,"column":741}},{"source":"js/devtools.js","name":"e","original":{"line":17,"column":9},"generated":{"line":1,"column":744}},{"source":"js/devtools.js","name":"e","original":{"line":17,"column":9},"generated":{"line":1,"column":751}},{"source":"js/devtools.js","name":"status","original":{"line":17,"column":11},"generated":{"line":1,"column":753}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":763}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":768}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":770}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":774}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":780}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":787}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":789}},{"source":"js/devtools.js","original":{"line":11,"column":0},"generated":{"line":1,"column":798}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":805}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":811}},{"source":"js/devtools.js","original":{"line":100,"column":0},"generated":{"line":1,"column":816}},{"source":"js/devtools.js","original":{"line":21,"column":0},"generated":{"line":1,"column":827}},{"source":"js/devtools.js","name":"_logsCallback","original":{"line":21,"column":4},"generated":{"line":1,"column":831}},{"source":"js/devtools.js","name":"undefined","original":{"line":21,"column":20},"generated":{"line":1,"column":838}},{"source":"js/devtools.js","original":{"line":23,"column":0},"generated":{"line":1,"column":840}},{"source":"js/devtools.js","name":"_onBlobReached","original":{"line":23,"column":9},"generated":{"line":1,"column":849}},{"source":"js/devtools.js","name":"data","original":{"line":23,"column":24},"generated":{"line":1,"column":851}},{"source":"js/devtools.js","name":"_logsCallback","original":{"line":25,"column":4},"generated":{"line":1,"column":854}},{"source":"js/devtools.js","name":"data","original":{"line":27,"column":2},"generated":{"line":1,"column":858}},{"source":"js/devtools.js","name":"answer","original":{"line":27,"column":7},"generated":{"line":1,"column":860}},{"source":"js/devtools.js","original":{"line":27,"column":14},"generated":{"line":1,"column":867}},{"source":"js/devtools.js","name":"_logsCallback","original":{"line":28,"column":2},"generated":{"line":1,"column":871}},{"source":"js/devtools.js","name":"data","original":{"line":28,"column":16},"generated":{"line":1,"column":873}},{"source":"js/devtools.js","name":"blob","original":{"line":28,"column":21},"generated":{"line":1,"column":875}},{"source":"js/devtools.js","original":{"line":32,"column":0},"generated":{"line":1,"column":882}},{"source":"js/devtools.js","name":"captureLogs","original":{"line":32,"column":9},"generated":{"line":1,"column":891}},{"source":"js/devtools.js","name":"callback","original":{"line":32,"column":47},"generated":{"line":1,"column":893}},{"source":"js/devtools.js","name":"callback","original":{"line":32,"column":47},"generated":{"line":1,"column":895}},{"source":"js/devtools.js","name":"type","original":{"line":32,"column":23},"generated":{"line":1,"column":898}},{"source":"js/devtools.js","name":"type","original":{"line":32,"column":23},"generated":{"line":1,"column":902}},{"source":"js/devtools.js","name":"type","original":{"line":32,"column":23},"generated":{"line":1,"column":904}},{"source":"js/devtools.js","name":"type","original":{"line":32,"column":23},"generated":{"line":1,"column":906}},{"source":"js/devtools.js","name":"limit","original":{"line":32,"column":29},"generated":{"line":1,"column":911}},{"source":"js/devtools.js","name":"limit","original":{"line":32,"column":29},"generated":{"line":1,"column":913}},{"source":"js/devtools.js","name":"limit","original":{"line":32,"column":29},"generated":{"line":1,"column":915}},{"source":"js/devtools.js","name":"limit","original":{"line":32,"column":29},"generated":{"line":1,"column":921}},{"source":"js/devtools.js","original":{"line":32,"column":37},"generated":{"line":1,"column":928}},{"source":"js/devtools.js","original":{"line":32,"column":37},"generated":{"line":1,"column":932}},{"source":"js/devtools.js","original":{"line":32,"column":37},"generated":{"line":1,"column":934}},{"source":"js/devtools.js","original":{"line":32,"column":57},"generated":{"line":1,"column":938}},{"source":"js/devtools.js","name":"_logsCallback","original":{"line":33,"column":1},"generated":{"line":1,"column":940}},{"source":"js/devtools.js","name":"callback","original":{"line":33,"column":17},"generated":{"line":1,"column":942}},{"source":"js/devtools.js","name":"api","original":{"line":35,"column":1},"generated":{"line":1,"column":944}},{"source":"js/devtools.js","name":"send","original":{"line":35,"column":5},"generated":{"line":1,"column":946}},{"source":"js/devtools.js","name":"EVENT","original":{"line":35,"column":10},"generated":{"line":1,"column":951}},{"source":"js/devtools.js","name":"LOG_INIT","original":{"line":35,"column":16},"generated":{"line":1,"column":953}},{"source":"js/devtools.js","name":"LOG_INIT","original":{"line":35,"column":16},"generated":{"line":1,"column":959}},{"source":"js/devtools.js","original":{"line":35,"column":26},"generated":{"line":1,"column":968}},{"source":"js/devtools.js","name":"logType","original":{"line":36,"column":2},"generated":{"line":1,"column":969}},{"source":"js/devtools.js","name":"type","original":{"line":36,"column":11},"generated":{"line":1,"column":977}},{"source":"js/devtools.js","name":"limit","original":{"line":37,"column":2},"generated":{"line":1,"column":979}},{"source":"js/devtools.js","name":"limit","original":{"line":37,"column":2},"generated":{"line":1,"column":985}},{"source":"js/devtools.js","name":"target","original":{"line":38,"column":2},"generated":{"line":1,"column":987}},{"source":"js/devtools.js","name":"PAGES","original":{"line":38,"column":10},"generated":{"line":1,"column":994}},{"source":"js/devtools.js","name":"CONTENT","original":{"line":38,"column":16},"generated":{"line":1,"column":996}},{"source":"js/devtools.js","name":"CONTENT","original":{"line":38,"column":16},"generated":{"line":1,"column":1002}},{"source":"js/devtools.js","name":"then","original":{"line":39,"column":4},"generated":{"line":1,"column":1012}},{"source":"js/devtools.js","original":{"line":39,"column":9},"generated":{"line":1,"column":1017}},{"source":"js/devtools.js","name":"console","original":{"line":40,"column":2},"generated":{"line":1,"column":1028}},{"source":"js/devtools.js","name":"log","original":{"line":40,"column":10},"generated":{"line":1,"column":1036}},{"source":"js/devtools.js","original":{"line":40,"column":14},"generated":{"line":1,"column":1040}},{"source":"js/devtools.js","name":"api","original":{"line":42,"column":2},"generated":{"line":1,"column":1062}},{"source":"js/devtools.js","name":"onFlow","original":{"line":42,"column":6},"generated":{"line":1,"column":1064}},{"source":"js/devtools.js","name":"EVENT","original":{"line":42,"column":13},"generated":{"line":1,"column":1071}},{"source":"js/devtools.js","name":"LOG_STOP","original":{"line":42,"column":19},"generated":{"line":1,"column":1073}},{"source":"js/devtools.js","name":"LOG_STOP","original":{"line":42,"column":19},"generated":{"line":1,"column":1079}},{"source":"js/devtools.js","original":{"line":42,"column":29},"generated":{"line":1,"column":1088}},{"source":"js/devtools.js","name":"stopCapture","original":{"line":42,"column":35},"generated":{"line":1,"column":1099}},{"source":"js/devtools.js","name":"stopCapture","original":{"line":42,"column":35},"generated":{"line":1,"column":1106}},{"source":"js/devtools.js","original":{"line":42,"column":47},"generated":{"line":1,"column":1109}},{"source":"js/devtools.js","name":"api","original":{"line":43,"column":2},"generated":{"line":1,"column":1114}},{"source":"js/devtools.js","name":"onFlow","original":{"line":43,"column":6},"generated":{"line":1,"column":1116}},{"source":"js/devtools.js","name":"EVENT","original":{"line":43,"column":13},"generated":{"line":1,"column":1123}},{"source":"js/devtools.js","name":"LOG_BLOB","original":{"line":43,"column":19},"generated":{"line":1,"column":1125}},{"source":"js/devtools.js","name":"LOG_BLOB","original":{"line":43,"column":19},"generated":{"line":1,"column":1131}},{"source":"js/devtools.js","name":"_onBlobReached","original":{"line":43,"column":29},"generated":{"line":1,"column":1140}},{"source":"js/devtools.js","name":"isCapture","original":{"line":44,"column":2},"generated":{"line":1,"column":1143}},{"source":"js/devtools.js","original":{"line":44,"column":14},"generated":{"line":1,"column":1146}},{"source":"js/devtools.js","original":{"line":48,"column":0},"generated":{"line":1,"column":1150}},{"source":"js/devtools.js","name":"stopCapture","original":{"line":48,"column":9},"generated":{"line":1,"column":1159}},{"source":"js/devtools.js","name":"supress","original":{"line":48,"column":21},"generated":{"line":1,"column":1163}},{"source":"js/devtools.js","name":"supress","original":{"line":48,"column":21},"generated":{"line":1,"column":1167}},{"source":"js/devtools.js","original":{"line":48,"column":31},"generated":{"line":1,"column":1169}},{"source":"js/devtools.js","original":{"line":48,"column":31},"generated":{"line":1,"column":1179}},{"source":"js/devtools.js","original":{"line":48,"column":31},"generated":{"line":1,"column":1186}},{"source":"js/devtools.js","original":{"line":48,"column":31},"generated":{"line":1,"column":1194}},{"source":"js/devtools.js","original":{"line":48,"column":31},"generated":{"line":1,"column":1198}},{"source":"js/devtools.js","original":{"line":48,"column":31},"generated":{"line":1,"column":1208}},{"source":"js/devtools.js","original":{"line":48,"column":31},"generated":{"line":1,"column":1212}},{"source":"js/devtools.js","original":{"line":48,"column":31},"generated":{"line":1,"column":1222}},{"source":"js/devtools.js","name":"isCapture","original":{"line":49,"column":5},"generated":{"line":1,"column":1225}},{"source":"js/devtools.js","name":"isCapture","original":{"line":53,"column":1},"generated":{"line":1,"column":1229}},{"source":"js/devtools.js","original":{"line":53,"column":13},"generated":{"line":1,"column":1232}},{"source":"js/devtools.js","name":"console","original":{"line":55,"column":1},"generated":{"line":1,"column":1234}},{"source":"js/devtools.js","name":"debug","original":{"line":55,"column":9},"generated":{"line":1,"column":1242}},{"source":"js/devtools.js","original":{"line":55,"column":15},"generated":{"line":1,"column":1248}},{"source":"js/devtools.js","original":{"line":55,"column":26},"generated":{"line":1,"column":1258}},{"source":"js/devtools.js","name":"api","original":{"line":57,"column":1},"generated":{"line":1,"column":1274}},{"source":"js/devtools.js","name":"offFlow","original":{"line":57,"column":5},"generated":{"line":1,"column":1276}},{"source":"js/devtools.js","name":"EVENT","original":{"line":57,"column":13},"generated":{"line":1,"column":1284}},{"source":"js/devtools.js","name":"LOG_BLOB","original":{"line":57,"column":19},"generated":{"line":1,"column":1286}},{"source":"js/devtools.js","name":"LOG_BLOB","original":{"line":57,"column":19},"generated":{"line":1,"column":1292}},{"source":"js/devtools.js","name":"_onBlobReached","original":{"line":57,"column":29},"generated":{"line":1,"column":1301}},{"source":"js/devtools.js","name":"supress","original":{"line":59,"column":5},"generated":{"line":1,"column":1304}},{"source":"js/devtools.js","name":"api","original":{"line":60,"column":2},"generated":{"line":1,"column":1307}},{"source":"js/devtools.js","name":"send","original":{"line":60,"column":6},"generated":{"line":1,"column":1309}},{"source":"js/devtools.js","name":"EVENT","original":{"line":60,"column":11},"generated":{"line":1,"column":1314}},{"source":"js/devtools.js","name":"LOG_STOP","original":{"line":60,"column":17},"generated":{"line":1,"column":1316}},{"source":"js/devtools.js","name":"LOG_STOP","original":{"line":60,"column":17},"generated":{"line":1,"column":1322}},{"source":"js/devtools.js","original":{"line":60,"column":27},"generated":{"line":1,"column":1331}},{"source":"js/devtools.js","name":"target","original":{"line":60,"column":29},"generated":{"line":1,"column":1332}},{"source":"js/devtools.js","name":"PAGES","original":{"line":60,"column":37},"generated":{"line":1,"column":1339}},{"source":"js/devtools.js","name":"CONTENT","original":{"line":60,"column":43},"generated":{"line":1,"column":1341}},{"source":"js/devtools.js","name":"CONTENT","original":{"line":60,"column":43},"generated":{"line":1,"column":1347}},{"source":"js/devtools.js","name":"contex","original":{"line":63,"column":1},"generated":{"line":1,"column":1357}},{"source":"js/devtools.js","name":"emit","original":{"line":63,"column":8},"generated":{"line":1,"column":1359}},{"source":"js/devtools.js","name":"EVENT","original":{"line":63,"column":13},"generated":{"line":1,"column":1364}},{"source":"js/devtools.js","name":"LOG_STOP","original":{"line":63,"column":19},"generated":{"line":1,"column":1366}},{"source":"js/devtools.js","name":"LOG_STOP","original":{"line":63,"column":19},"generated":{"line":1,"column":1372}},{"source":"js/devtools.js","name":"_logsCallback","original":{"line":64,"column":1},"generated":{"line":1,"column":1382}},{"source":"js/devtools.js","name":"undefined","original":{"line":64,"column":17},"generated":{"line":1,"column":1389}},{"source":"js/devtools.js","original":{"line":70,"column":0},"generated":{"line":1,"column":1392}},{"source":"js/devtools.js","name":"devApi","original":{"line":70,"column":6},"generated":{"line":1,"column":1396}},{"source":"js/devtools.js","original":{"line":70,"column":15},"generated":{"line":1,"column":1398}},{"source":"js/devtools.js","name":"getStatus","original":{"line":71,"column":1},"generated":{"line":1,"column":1399}},{"source":"js/devtools.js","name":"getStatus","original":{"line":71,"column":1},"generated":{"line":1,"column":1409}},{"source":"js/devtools.js","name":"captureLogs","original":{"line":72,"column":1},"generated":{"line":1,"column":1411}},{"source":"js/devtools.js","name":"captureLogs","original":{"line":72,"column":1},"generated":{"line":1,"column":1423}},{"source":"js/devtools.js","name":"stopCapture","original":{"line":73,"column":1},"generated":{"line":1,"column":1425}},{"source":"js/devtools.js","name":"stopCapture","original":{"line":73,"column":1},"generated":{"line":1,"column":1437}},{"source":"js/devtools.js","original":{"line":76,"column":0},"generated":{"line":1,"column":1440}},{"source":"js/devtools.js","name":"_onPanelShow","original":{"line":76,"column":9},"generated":{"line":1,"column":1449}},{"source":"js/devtools.js","name":"panelContext","original":{"line":76,"column":22},"generated":{"line":1,"column":1451}},{"source":"js/devtools.js","name":"setTimeout","original":{"line":77,"column":1},"generated":{"line":1,"column":1454}},{"source":"js/devtools.js","original":{"line":77,"column":12},"generated":{"line":1,"column":1465}},{"source":"js/devtools.js","name":"contex","original":{"line":78,"column":2},"generated":{"line":1,"column":1476}},{"source":"js/devtools.js","name":"panelContext","original":{"line":78,"column":11},"generated":{"line":1,"column":1478}},{"source":"js/devtools.js","name":"PANEL_API","original":{"line":78,"column":24},"generated":{"line":1,"column":1480}},{"source":"js/devtools.js","name":"console","original":{"line":80,"column":2},"generated":{"line":1,"column":1490}},{"source":"js/devtools.js","name":"log","original":{"line":80,"column":10},"generated":{"line":1,"column":1498}},{"source":"js/devtools.js","name":"panelContext","original":{"line":80,"column":14},"generated":{"line":1,"column":1502}},{"source":"js/devtools.js","name":"api","original":{"line":82,"column":2},"generated":{"line":1,"column":1505}},{"source":"js/devtools.js","name":"connect","original":{"line":82,"column":6},"generated":{"line":1,"column":1507}},{"source":"js/devtools.js","name":"api","original":{"line":84,"column":2},"generated":{"line":1,"column":1517}},{"source":"js/devtools.js","name":"send","original":{"line":84,"column":6},"generated":{"line":1,"column":1519}},{"source":"js/devtools.js","name":"EVENT","original":{"line":84,"column":11},"generated":{"line":1,"column":1524}},{"source":"js/devtools.js","name":"INJECT","original":{"line":84,"column":17},"generated":{"line":1,"column":1526}},{"source":"js/devtools.js","name":"INJECT","original":{"line":84,"column":17},"generated":{"line":1,"column":1532}},{"source":"js/devtools.js","original":{"line":84,"column":25},"generated":{"line":1,"column":1539}},{"source":"js/devtools.js","name":"tabId","original":{"line":85,"column":3},"generated":{"line":1,"column":1540}},{"source":"js/devtools.js","name":"chrome","original":{"line":85,"column":10},"generated":{"line":1,"column":1546}},{"source":"js/devtools.js","name":"devtools","original":{"line":85,"column":17},"generated":{"line":1,"column":1553}},{"source":"js/devtools.js","name":"inspectedWindow","original":{"line":85,"column":26},"generated":{"line":1,"column":1562}},{"source":"js/devtools.js","name":"tabId","original":{"line":85,"column":42},"generated":{"line":1,"column":1578}},{"source":"js/devtools.js","name":"scriptToInject","original":{"line":86,"column":3},"generated":{"line":1,"column":1584}},{"source":"js/devtools.js","original":{"line":86,"column":19},"generated":{"line":1,"column":1599}},{"source":"js/devtools.js","name":"then","original":{"line":87,"column":5},"generated":{"line":1,"column":1617}},{"source":"js/devtools.js","original":{"line":87,"column":10},"generated":{"line":1,"column":1622}},{"source":"js/devtools.js","original":{"line":87,"column":26},"generated":{"line":1,"column":1631}},{"source":"js/devtools.js","name":"status","original":{"line":87,"column":13},"generated":{"line":1,"column":1634}},{"source":"js/devtools.js","name":"status","original":{"line":87,"column":13},"generated":{"line":1,"column":1638}},{"source":"js/devtools.js","name":"status","original":{"line":87,"column":13},"generated":{"line":1,"column":1640}},{"source":"js/devtools.js","name":"status","original":{"line":87,"column":13},"generated":{"line":1,"column":1642}},{"source":"js/devtools.js","name":"injectionStatus","original":{"line":88,"column":3},"generated":{"line":1,"column":1649}},{"source":"js/devtools.js","name":"status","original":{"line":88,"column":21},"generated":{"line":1,"column":1651}},{"source":"js/devtools.js","name":"contex","original":{"line":89,"column":3},"generated":{"line":1,"column":1653}},{"source":"js/devtools.js","name":"init","original":{"line":89,"column":10},"generated":{"line":1,"column":1655}},{"source":"js/devtools.js","name":"devApi","original":{"line":89,"column":15},"generated":{"line":1,"column":1660}},{"source":"js/devtools.js","original":{"line":91,"column":4},"generated":{"line":1,"column":1666}},{"source":"js/devtools.js","original":{"line":94,"column":0},"generated":{"line":1,"column":1671}},{"source":"js/devtools.js","name":"_onPanelHide","original":{"line":94,"column":9},"generated":{"line":1,"column":1680}},{"source":"js/devtools.js","name":"panelContext","original":{"line":94,"column":22},"generated":{"line":1,"column":1682}},{"source":"js/devtools.js","name":"contex","original":{"line":95,"column":1},"generated":{"line":1,"column":1685}},{"source":"js/devtools.js","name":"undefined","original":{"line":95,"column":10},"generated":{"line":1,"column":1692}},{"source":"js/devtools.js","name":"api","original":{"line":96,"column":1},"generated":{"line":1,"column":1694}},{"source":"js/devtools.js","name":"send","original":{"line":96,"column":5},"generated":{"line":1,"column":1696}},{"source":"js/devtools.js","name":"EVENT","original":{"line":96,"column":10},"generated":{"line":1,"column":1701}},{"source":"js/devtools.js","name":"DETACH","original":{"line":96,"column":16},"generated":{"line":1,"column":1703}},{"source":"js/devtools.js","name":"DETACH","original":{"line":96,"column":16},"generated":{"line":1,"column":1709}},{"source":"js/devtools.js","original":{"line":96,"column":24},"generated":{"line":1,"column":1716}},{"source":"js/devtools.js","name":"target","original":{"line":96,"column":26},"generated":{"line":1,"column":1717}},{"source":"js/devtools.js","name":"PAGES","original":{"line":96,"column":34},"generated":{"line":1,"column":1724}},{"source":"js/devtools.js","name":"CONTENT","original":{"line":96,"column":40},"generated":{"line":1,"column":1726}},{"source":"js/devtools.js","name":"CONTENT","original":{"line":96,"column":40},"generated":{"line":1,"column":1732}},{"source":"js/devtools.js","name":"api","original":{"line":97,"column":1},"generated":{"line":1,"column":1742}},{"source":"js/devtools.js","name":"close","original":{"line":97,"column":5},"generated":{"line":1,"column":1744}},{"source":"js/devtools.js","name":"chrome","original":{"line":100,"column":0},"generated":{"line":1,"column":1752}},{"source":"js/devtools.js","name":"devtools","original":{"line":100,"column":7},"generated":{"line":1,"column":1759}},{"source":"js/devtools.js","name":"panels","original":{"line":100,"column":16},"generated":{"line":1,"column":1768}},{"source":"js/devtools.js","name":"create","original":{"line":100,"column":23},"generated":{"line":1,"column":1775}},{"source":"js/devtools.js","original":{"line":101,"column":1},"generated":{"line":1,"column":1782}},{"source":"js/devtools.js","original":{"line":102,"column":1},"generated":{"line":1,"column":1791}},{"source":"js/devtools.js","original":{"line":103,"column":1},"generated":{"line":1,"column":1809}},{"source":"js/devtools.js","original":{"line":104,"column":1},"generated":{"line":1,"column":1822}},{"source":"js/devtools.js","name":"panel","original":{"line":104,"column":2},"generated":{"line":1,"column":1831}},{"source":"js/devtools.js","name":"panel","original":{"line":105,"column":2},"generated":{"line":1,"column":1834}},{"source":"js/devtools.js","name":"onShown","original":{"line":105,"column":8},"generated":{"line":1,"column":1836}},{"source":"js/devtools.js","name":"addListener","original":{"line":105,"column":16},"generated":{"line":1,"column":1844}},{"source":"js/devtools.js","name":"_onPanelShow","original":{"line":105,"column":28},"generated":{"line":1,"column":1856}},{"source":"js/devtools.js","name":"panel","original":{"line":106,"column":2},"generated":{"line":1,"column":1859}},{"source":"js/devtools.js","name":"onHidden","original":{"line":106,"column":8},"generated":{"line":1,"column":1861}},{"source":"js/devtools.js","name":"addListener","original":{"line":106,"column":17},"generated":{"line":1,"column":1870}},{"source":"js/devtools.js","name":"_onPanelHide","original":{"line":106,"column":29},"generated":{"line":1,"column":1882}}],"sources":{"js/devtools.js":"import { EVENT, APIServer, PAGES } from \"./lib/API.js\";\r\n\r\nconst api = new APIServer(PAGES.DEVTOOL);\r\n/**\r\n * @type {IPanelAPI}\r\n */\r\nlet contex = undefined;\r\nlet injectionStatus = false;\r\nlet isCapture = false;\r\n\r\nasync function getStatus() {\r\n\tif (!injectionStatus) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\treturn api.send(EVENT.TEST, { target: PAGES.CONTENT }).then((e) => {\r\n\t\treturn e.status;\r\n\t});\r\n}\r\n\r\nlet _logsCallback = undefined;\r\n\r\nfunction _onBlobReached(data) {\r\n\r\n\tif(_logsCallback) {\r\n\t\t// пинаем, что не зависили!\r\n\t\tdata.answer({});\r\n\t\t_logsCallback(data.blob);\r\n\t}\r\n}\r\n\r\nfunction captureLogs({ type, limit = 500000 }, callback) {\r\n\t_logsCallback = callback;\r\n\r\n\tapi.send(EVENT.LOG_INIT, {\r\n\t\tlogType: type,\r\n\t\tlimit,\r\n\t\ttarget: PAGES.CONTENT,\r\n\t}).then(() => {\r\n\t\tconsole.log(\"register blob flow\");\r\n\r\n\t\tapi.onFlow(EVENT.LOG_STOP, () => stopCapture(true) );\r\n\t\tapi.onFlow(EVENT.LOG_BLOB, _onBlobReached);\r\n\t\tisCapture = true;\r\n\t});\r\n}\r\n\r\nfunction stopCapture(supress = false) {\r\n\tif(!isCapture) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tisCapture = false;\r\n\r\n\tconsole.debug(\"DEVTOOL\", \"STOP CAPTURE\");\r\n\r\n\tapi.offFlow(EVENT.LOG_BLOB, _onBlobReached);\r\n\t\r\n\tif(!supress){\r\n\t\tapi.send(EVENT.LOG_STOP, { target: PAGES.CONTENT });\r\n\t}\r\n\r\n\tcontex.emit(EVENT.LOG_STOP);\r\n\t_logsCallback = undefined;\r\n}\r\n\r\n/**\r\n * @type {IDevToolAPI}\r\n */\r\nconst devApi = {\r\n\tgetStatus,\r\n\tcaptureLogs,\r\n\tstopCapture,\r\n};\r\n\r\nfunction _onPanelShow(panelContext) {\r\n\tsetTimeout(()=>{\r\n\t\tcontex = panelContext.PANEL_API;\r\n\r\n\t\tconsole.log(panelContext);\r\n\r\n\t\tapi.connect();\r\n\r\n\t\tapi.send(EVENT.INJECT, {\r\n\t\t\ttabId: chrome.devtools.inspectedWindow.tabId,\r\n\t\t\tscriptToInject: \"js/content.js\",\r\n\t\t}).then(({ status }) => {\r\n\t\t\tinjectionStatus = status;\r\n\t\t\tcontex.init(devApi);\r\n\t\t});\r\n\t}, 100);\r\n}\r\n\r\nfunction _onPanelHide(panelContext) {\r\n\tcontex = undefined;\r\n\tapi.send(EVENT.DETACH, { target: PAGES.CONTENT });\r\n\tapi.close();\r\n}\r\n\r\nchrome.devtools.panels.create(\r\n\t\"AwayFL\",\r\n\t\"/gfx/icon16.png\",\r\n\t\"panel.html\",\r\n\t(panel) => {\r\n\t\tpanel.onShown.addListener(_onPanelShow);\r\n\t\tpanel.onHidden.addListener(_onPanelHide);\r\n\t}\r\n);\r\n"},"lineCount":null}},"error":null,"hash":"4e1cd39585a239efa15031fc4d89f78f","cacheData":{"env":{}}}