{"version":3,"sources":["js/content.js"],"names":["port","window","__AWAY__FL__DEBUGER","postMessage","type","status","chrome","runtime","connect","name","_onMessage","data","from","_postMesage","onMessage","addListener","addEventListener","injection","document","createElement","src","extension","getURL","head","documentElement","appendChild","onload","remove"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,CAAC,YAAY;AACZ,MAAIA,IAAI,GAAGC,MAAM,CAACC,mBAAlB;;AAEA,MAAIF,IAAJ,EAAU;AACTA,IAAAA,IAAI,CAACG,WAAL,CAAiB;AAAEC,MAAAA,IAAI,EAAE,QAAR;AAAkBC,MAAAA,MAAM,EAAE;AAA1B,KAAjB;AAAmD;AACnD;AACA;;AAEDL,EAAAA,IAAI,GAAGM,MAAM,CAACC,OAAP,CAAeC,OAAf,CAAuB;AAC7BC,IAAAA,IAAI,EAAE;AADuB,GAAvB,CAAP;AAIAR,EAAAA,MAAM,CAACC,mBAAP,GAA6BF,IAA7B,CAZY,CAeZ;;AACA,WAASU,UAAT,CAAoB;AAACC,IAAAA;AAAD,GAApB,EAA4B;AAC3B,QAAIA,IAAI,CAACC,IAAL,KAAc,iBAAlB,EAAqC;AACpC;AACA;;AACDZ,IAAAA,IAAI,CAACG,WAAL,CAAiBQ,IAAjB;AACA;;AAED,WAASE,WAAT,CAAqBF,IAArB,EAA2B;AAC1BA,IAAAA,IAAI,CAACC,IAAL,GAAY,mBAAZ;AACAX,IAAAA,MAAM,CAACE,WAAP,CAAmBQ,IAAnB,EAAyB,GAAzB;AACA,GA1BW,CA4BZ;;;AACAX,EAAAA,IAAI,CAACc,SAAL,CAAeC,WAAf,CAA2BF,WAA3B;AAEAZ,EAAAA,MAAM,CAACe,gBAAP,CAAwB,SAAxB,EAAmCN,UAAnC;AAEA,QAAMO,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAlB;AAEAF,EAAAA,SAAS,CAACG,GAAV,GAAgBd,MAAM,CAACe,SAAP,CAAiBC,MAAjB,CAAwB,gBAAxB,CAAhB;AACA,GAACJ,QAAQ,CAACK,IAAT,IAAiBL,QAAQ,CAACM,eAA3B,EAA4CC,WAA5C,CAAwDR,SAAxD;;AAEAA,EAAAA,SAAS,CAACS,MAAV,GAAmB,YAAY;AAC9BT,IAAAA,SAAS,CAACU,MAAV;AACA3B,IAAAA,IAAI,CAACG,WAAL,CAAiB;AAAEC,MAAAA,IAAI,EAAE,QAAR;AAAkBC,MAAAA,MAAM,EAAE;AAA1B,KAAjB;AACA,GAHD;AAIA,CA1CD","file":"content.js","sourceRoot":"..\\src","sourcesContent":["\r\n(function () {\r\n\tlet port = window.__AWAY__FL__DEBUGER;\r\n\r\n\tif (port) {\r\n\t\tport.postMessage({ type: 'inject', status: true });;\r\n\t\treturn;\r\n\t}\r\n\r\n\tport = chrome.runtime.connect({\r\n\t\tname: \"content-page\",\r\n\t});\r\n\t\r\n\twindow.__AWAY__FL__DEBUGER = port;\r\n\r\n\r\n\t// page-api -> background\r\n\tfunction _onMessage({data}) {\r\n\t\tif (data.from !== \"_AWAY_API_event\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tport.postMessage(data);\r\n\t}\r\n\r\n\tfunction _postMesage(data) {\r\n\t\tdata.from = \"_AWAY_PROXY_event\";\r\n\t\twindow.postMessage(data, \"*\");\r\n\t}\r\n\r\n\t// background -> page-api\r\n\tport.onMessage.addListener(_postMesage);\r\n\r\n\twindow.addEventListener(\"message\", _onMessage);\r\n\r\n\tconst injection = document.createElement(\"script\");\r\n\r\n\tinjection.src = chrome.extension.getURL(\"js/page-api.js\");\r\n\t(document.head || document.documentElement).appendChild(injection);\r\n\r\n\tinjection.onload = function () {\r\n\t\tinjection.remove();\r\n\t\tport.postMessage({ type: 'inject', status: true });\r\n\t};\r\n})();\r\n"]}