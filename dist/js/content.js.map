{"version":3,"sources":["js/content.js"],"names":["port","window","__AWAY__FL__DEBUGER","postMessage","type","status","chrome","runtime","connect","name","onMessage","addListener","_postMesage","data","from","addEventListener","_onMessage","injection","document","createElement","src","extension","getURL","head","documentElement","appendChild","onload","remove"],"mappings":";CACA,WACKA,IAAAA,EAAOC,OAAOC,oBAEdF,GAAAA,EAEH,YADAA,EAAKG,YAAY,CAAEC,KAAM,SAAUC,QAAQ,IAI5CL,EAAOM,OAAOC,QAAQC,QAAQ,CAC7BC,KAAM,iBAGPR,OAAOC,oBAAsBF,EAiB7BA,EAAKU,UAAUC,YANNC,SAAYC,GACpBA,EAAKC,KAAO,oBACZb,OAAOE,YAAYU,EAAM,OAM1BZ,OAAOc,iBAAiB,UAffC,UAAW,KAACH,IACF,oBAAdA,EAAKC,MAGTd,EAAKG,YAAYU,KAaZI,MAAAA,EAAYC,SAASC,cAAc,UAEzCF,EAAUG,IAAMd,OAAOe,UAAUC,OAAO,mBACvCJ,SAASK,MAAQL,SAASM,iBAAiBC,YAAYR,GAExDA,EAAUS,OAAS,WAClBT,EAAUU,SACV3B,EAAKG,YAAY,CAAEC,KAAM,SAAUC,QAAQ,KAxC7C","file":"content.js","sourceRoot":"..\\src","sourcesContent":["\r\n(function () {\r\n\tlet port = window.__AWAY__FL__DEBUGER;\r\n\r\n\tif (port) {\r\n\t\tport.postMessage({ type: 'inject', status: true });;\r\n\t\treturn;\r\n\t}\r\n\r\n\tport = chrome.runtime.connect({\r\n\t\tname: \"content-page\",\r\n\t});\r\n\t\r\n\twindow.__AWAY__FL__DEBUGER = port;\r\n\r\n\r\n\t// page-api -> background\r\n\tfunction _onMessage({data}) {\r\n\t\tif (data.from !== \"_AWAY_API_event\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tport.postMessage(data);\r\n\t}\r\n\r\n\tfunction _postMesage(data) {\r\n\t\tdata.from = \"_AWAY_PROXY_event\";\r\n\t\twindow.postMessage(data, \"*\");\r\n\t}\r\n\r\n\t// background -> page-api\r\n\tport.onMessage.addListener(_postMesage);\r\n\r\n\twindow.addEventListener(\"message\", _onMessage);\r\n\r\n\tconst injection = document.createElement(\"script\");\r\n\r\n\tinjection.src = chrome.extension.getURL(\"js/page-api.js\");\r\n\t(document.head || document.documentElement).appendChild(injection);\r\n\r\n\tinjection.onload = function () {\r\n\t\tinjection.remove();\r\n\t\tport.postMessage({ type: 'inject', status: true });\r\n\t};\r\n})();\r\n"]}