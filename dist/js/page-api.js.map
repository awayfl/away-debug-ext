{"version":3,"sources":["js/lib/API.ts","js/lib/PageAPI.ts","js/lib/EVENT.ts","js/bbox.ts","js/page-api.ts"],"names":[],"mappings":"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","file":"page-api.js","sourceRoot":"..\\src","sourcesContent":["export const PAGES = {\r\n\tCONTENT: \"content-page\",\r\n\tDEVTOOL: \"devtools-page\",\r\n};\r\n\r\nexport interface IMessage {\r\n\ttarget: string;\r\n\tsender: string;\r\n\ttype: string;\r\n\terror: any;\r\n\tid: number;\r\n\tanswer?: (data: any) => void;\r\n}\r\n\r\nexport class APIServer {\r\n\tprotected _bus: chrome.runtime.Port = undefined;\r\n\tprotected _pool: {[key: string]: any} = {};\r\n\tprotected _flow: {[key: string]: (mess: IMessage) => void} = {};\r\n\tprotected _messageID: number = 0;\r\n\r\n\tconstructor(public name = '') {\r\n\t\tthis._onMessage = this._onMessage.bind(this);\r\n\t}\r\n\t\r\n\tconnect(tabId = undefined) {\r\n\t\tif (this._bus) {\r\n\t\t\tthis._bus.disconnect();\r\n\t\t}\r\n\r\n\t\tif (!tabId) {\r\n\t\t\tthis._bus = chrome.runtime.connect({ name: this.name});\r\n\t\t} else {\r\n\t\t\tthis._bus = chrome.tabs.connect(tabId, { name: this.name });\r\n\t\t}\r\n\r\n\t\tthis._bus.onMessage.addListener(this._onMessage.bind(this));\r\n\t}\r\n\r\n\tclose() {\r\n\t\tthis._bus && this._bus.disconnect();\r\n\t\tthis._bus = undefined;\r\n\t}\r\n\r\n\tget opened() {\r\n\t\treturn !!this._bus;\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param {IMessage} data\r\n\t * @returns {{answer: Function}}\r\n\t */\r\n\t_answerFlow(data: IMessage) {\r\n\t\tdata.answer = (_newData = {}) => {\r\n\t\t\t_newData.type = data.type;\r\n\t\t\t_newData.id = data.id;\r\n\t\t\t_newData.target = data.sender;\r\n\t\t\tthis._bus.postMessage(_newData);\r\n\t\t};\r\n\t\treturn data;\r\n\t}\r\n\r\n\t_onMessage(data: IMessage) {\r\n\r\n\t\t// console.debug(\"API\", this.name, data);\r\n\r\n\t\tconst resolver = data.id !== undefined ? this._pool[data.id] : undefined;\r\n\r\n\t\tif (!resolver) {\r\n\t\t\tif (this._flow[data.type]) {\r\n\t\t\t\tthis._flow[data.type](this._answerFlow(data));\r\n\r\n\t\t\t\t// console.debug(\"CAll flow\", data.type);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"message resolve not found\", data.id, data.type);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis._pool[data.id] = undefined;\r\n\t\t\tif (data.error) {\r\n\t\t\t\tresolver.reject(data.error);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tresolver.resolve(data);\r\n\t\t}\r\n\t}\r\n\r\n\tonFlow(type: string, callback: (data: IMessage & any) => void) {\r\n\t\tthis._flow[type] = callback;\r\n\t}\r\n\r\n\toffFlow(type: string) {\r\n\t\tthis._flow[type] = undefined;\r\n\t}\r\n\r\n\r\n\tasync send(type: string, data: any, timeout = 0): Promise<IMessage & any> {\r\n\t\tif (!this._bus) {\r\n\t\t\tthrow new Error(\"Connection not opened!\");\r\n\t\t}\r\n\r\n\t\tdata.type = type;\r\n\t\tdata.id = data.id || this._messageID++;\r\n\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis._pool[data.id] = {\r\n\t\t\t\tid: data.id,\r\n\t\t\t\tresolve,\r\n\t\t\t\treject,\r\n\t\t\t};\r\n\r\n\t\t\tif(timeout > 0) {\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\treject(\"API call rejected by timeout\")\r\n\t\t\t\t}, timeout);\r\n\t\t\t}\r\n\r\n\t\t\tthis._bus.postMessage(data);\r\n\t\t});\r\n\t}\r\n}\r\n","import {APIServer, IMessage} from \"./API\"\r\n\r\nexport const enum PAGE_MARKER {\r\n\tPROXY = \"_AWAY_API_event\",\r\n\tPAGE = \"_AWAY_PAGE_event\"\r\n}\r\n\r\ninterface IPageMessage extends IMessage {\r\n\tfrom: PAGE_MARKER;\r\n}\r\n\r\nexport class APIPage extends APIServer {\r\n\tconstructor() {\r\n\t\tsuper(\"page\");\r\n\t\tthis._bus = <any>{};\r\n\t\tthis.connect();\r\n\t}\r\n\r\n\tconnect() {\r\n\t\twindow.addEventListener(\"message\", this._onMessage);\r\n\t}\r\n\r\n\tclose() {\r\n\t\twindow.removeEventListener(\"message\", this._onMessage);\r\n\t}\r\n\r\n\t// @ts-ignore\r\n\t_onMessage(message: any) {\r\n\t\tif (message.data.from !== PAGE_MARKER.PROXY) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// console.debug(\"PAGE API\", message.data);\r\n\r\n\t\tsuper._onMessage(message.data);\r\n\t}\r\n\r\n\t_answerFlow(data: IPageMessage) {\r\n\t\tdata.answer = (_newData = {}) => {\r\n\t\t\t_newData.type = data.type;\r\n\t\t\t_newData.id = data.id;\r\n\t\t\t_newData.from = PAGE_MARKER.PAGE;\r\n\t\t\t_newData.target = data.sender;\r\n\t\t\twindow.postMessage(_newData, \"*\");\r\n\t\t};\r\n\t\treturn data;\r\n\t}\r\n\r\n\tasync send(type: string, data: any = {}): Promise<IPageMessage & any> {\r\n\t\tdata.type = type;\r\n\t\tdata.id = data.id || this._messageID++;\r\n\t\tdata.from = PAGE_MARKER.PAGE;\r\n\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis._pool[data.id] = {\r\n\t\t\t\tid: data.id,\r\n\t\t\t\tresolve,\r\n\t\t\t\treject,\r\n\t\t\t};\r\n\t\t\twindow.postMessage(data, \"*\");\r\n\t\t});\r\n\t}\r\n}","export const enum EVENT {\r\n\tINJECT = 'inject',\r\n\tDETACH = 'detach',\r\n\tTEST = 'test',\r\n\tINFO = 'info',\r\n\tLOG_BLOB = 'log',\r\n\tLOG_INIT = 'log-init',\r\n\tLOG_STOP = 'log-stop',\r\n\tCALL = 'call',\r\n\tTRACK_BOUNDS = 'track-bounds'\r\n};\r\n","export interface INode {\r\n\tid: number;\r\n\trect: {\r\n\t\tx: number;\r\n\t\ty: number;\r\n\t\twidth: number;\r\n\t\theight: number;\r\n\t};\r\n\tvisible: boolean;\r\n\tglobalVisible: boolean;\r\n\tselected?: boolean;\r\n\tname: string;\r\n\tcolor?: string;\r\n\tchildren: INode[];\r\n}\r\n\r\nexport class BboxRenderer {\r\n\toptions = {\r\n\t\tdrawNames: true,\r\n\t\tthinkness: 2,\r\n\t\tdefaultColor: \"#00ff00\",\r\n\t\ttrackedIds: []\r\n\t};\r\n\r\n\tnodeRequiestMethod: () => Array<INode>;\r\n\r\n\tfollow: Element;\r\n\tcanvas: HTMLCanvasElement;\r\n\tctx: CanvasRenderingContext2D;\r\n\tloop: boolean = false;\r\n\r\n\tconstructor() {\r\n\t\tthis.redraw = this.redraw.bind(this);\r\n\t}\r\n\r\n\tinit(follow: Element, request: () => Array<INode>, options = {}) {\r\n\t\tconst canvas: HTMLCanvasElement =\r\n\t\t\tdocument.querySelector(\"#__AWAY__DEBUG__CANVAS__\") ||\r\n\t\t\tdocument.createElement(\"canvas\");\r\n\r\n\t\tcanvas.setAttribute(\"id\", \"__AWAY__DEBUG__CANVAS__\");\r\n\r\n\t\tObject.assign(canvas.style, {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tpointerEvents: \"none\",\r\n\t\t\tzIndex: 1000,\r\n\t\t});\r\n\r\n\t\tthis.options = Object.assign({\r\n\t\t\tdrawNames: true,\r\n\t\t\tthinkness: 2,\r\n\t\t\tdefaultColor: \"#00ff00\",\r\n\t\t\ttrackedIds: null,\r\n\t\t}, options);\r\n\r\n\t\tthis.canvas = canvas;\r\n\t\tthis.ctx = canvas.getContext('2d');\r\n\r\n\t\tthis.follow = follow;\r\n\t\tthis.follow.parentElement.appendChild(this.canvas);\r\n\t\tthis.resize();\r\n\r\n\t\tthis.nodeRequiestMethod = request;\r\n\r\n\t\tthis.redraw();\r\n\t}\r\n\r\n\tdrawNode(node: INode) {\r\n\t\tconst ctx = this.ctx;\r\n\r\n\t\tif(!node.rect || !node.visible) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (node.color) {\r\n\t\t\tctx.strokeStyle = node.color;\r\n\t\t}\r\n\r\n\t\t\r\n\t\tif (\r\n\t\t\t!this.options.trackedIds || \r\n\t\t\tthis.options.trackedIds.indexOf(node.id) > -1\r\n\t\t) {\r\n\t\t\tif (node.selected) {\r\n\t\t\t\tctx.lineWidth = this.options.thinkness * 2;\r\n\t\t\t}\r\n\r\n\t\t\tconst { x, y, width, height } = node.rect;\r\n\r\n\t\t\tctx.strokeRect(x, y, width, height);\r\n\r\n\t\t\tif (this.options.drawNames) {\r\n\t\t\t\tctx.fillText(\r\n\t\t\t\t\t`${node.name}, ${node.id}`,\r\n\t\t\t\t\tx + 4,\r\n\t\t\t\t\ty + 16,\r\n\t\t\t\t\twidth - 4\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tif (node.color) {\r\n\t\t\t\tctx.strokeStyle = this.options.defaultColor;\r\n\t\t\t}\r\n\r\n\t\t\tif (node.selected) {\r\n\t\t\t\tctx.lineWidth = this.options.thinkness;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(node.children && node.children.length > 0) {\r\n\t\t\tfor(const c of node.children)\r\n\t\t\t\tthis.drawNode(c);\r\n\t\t}\r\n\t}\r\n\r\n\tredraw() {\r\n\t\tif (!this.canvas) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.resize();\r\n\t\tconst nodes = this.nodeRequiestMethod();\r\n\t\tconst ctx = this.ctx;\r\n\r\n\t\tctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\t\tctx.lineWidth = this.options.thinkness;\r\n\t\tctx.strokeStyle = this.options.defaultColor;\r\n\t\tctx.fillStyle = this.options.defaultColor;\r\n\t\tctx.font = \"12px sans\";\r\n\r\n\t\tfor (const node of nodes) {\r\n\t\t\tthis.drawNode(node);\r\n\t\t}\r\n\r\n\t\trequestAnimationFrame(this.redraw);\r\n\t}\r\n\r\n\tresize() {\r\n\t\tconst rect = this.follow.getBoundingClientRect();\r\n\r\n\t\tthis.canvas.width = rect.width;\r\n\t\tthis.canvas.height = rect.height;\r\n\r\n\t\tObject.assign(this.canvas.style, {\r\n\t\t\ttop: rect.y + \"px\",\r\n\t\t\tleft: rect.x + \"px\",\r\n\t\t\twidth: rect.width + \"px\",\r\n\t\t\theight: rect.height + \"px\",\r\n\t\t});\r\n\t}\r\n\r\n\tdispose() {\r\n\t\tif (!this.canvas) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.canvas.remove();\r\n\t\tthis.canvas = null;\r\n\t\tthis.ctx = null;\r\n\t}\r\n}\r\n\r\n\r\n//@ts-ignore\r\nwindow.BBOX_RENDERE = BboxRenderer;","import { APIPage } from \"./lib/PageAPI\";\r\nimport { EVENT } from \"./lib/EVENT\";\r\nimport { BboxRenderer } from \"./bbox\";\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\t_AWAY_DEBUG_: IAwayDebug;\r\n\t}\r\n}\r\n\r\n(function () {\r\n\tconsole.debug(\"PAGE API INJECTED\");\r\n\r\n\t// ---------------main -------------\r\n\tconst api = new APIPage();\r\n\tconst bbox = new BboxRenderer();\r\n\r\n\tconst BATCH_BLOB_TIME = 500;\r\n\tconst BATCH_BLOBS = 1000;\r\n\tconst WAIT_TIMEOUT = 1000;\r\n\t/**\r\n\t * @type {IAwayDebug}\r\n\t */\r\n\tlet AWAY_DEBUG = undefined;\r\n\tlet _limit = 500000;\r\n\tlet _total = 0;\r\n\tlet _logBlob = [];\r\n\tlet _logBathedSender = undefined;\r\n\tlet _lastLoggedValue = undefined;\r\n\r\n\tfunction safeCall(method: string, args: any[]) {\r\n\t\tif (!AWAY_DEBUG) {\r\n\t\t\tthrow \"[AWAY DEBUG PAGE API] AWAY DEBUG interface not found!\";\r\n\t\t}\r\n\r\n\t\tif (typeof AWAY_DEBUG[method] !== \"function\") {\r\n\t\t\tthrow `[AWAY DEBUG PAGE API] field ${method} not callable!`;\r\n\t\t}\r\n\r\n\t\treturn AWAY_DEBUG[method].apply(undefined, args);\r\n\t}\r\n\r\n\tfunction _detachLogger(reason: string) {\r\n\t\tAWAY_DEBUG.registerWriter(0, null);\r\n\r\n\t\tclearTimeout(_logBathedSender);\r\n\r\n\t\tapi.send(EVENT.LOG_STOP, { target: \"devtools-page\", reason });\r\n\t}\r\n\r\n\tfunction _sendLog(blob: string[]) {\r\n\t\tif (!blob.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst waiter = setTimeout(() => {\r\n\t\t\t_detachLogger(\"timeout\");\r\n\t\t}, WAIT_TIMEOUT);\r\n\r\n\t\t// send blobs and wait, or stop sending!\r\n\t\tapi.send(EVENT.LOG_BLOB, {\r\n\t\t\tblob,\r\n\t\t\ttarget: \"devtools-page\",\r\n\t\t\ttotal: _total,\r\n\t\t}).then((e) => {\r\n\t\t\tclearTimeout(waiter);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction _logWriter(str: string) {\r\n\t\tif (str !== _lastLoggedValue) {\r\n\t\t\t_logBlob.push(str);\r\n\t\t\t_total++;\r\n\r\n\t\t\t_lastLoggedValue = str;\r\n\t\t}\r\n\r\n\t\tif (!_logBathedSender) {\r\n\t\t\t_logBathedSender = setTimeout(() => {\r\n\t\t\t\t_sendLog(_logBlob);\r\n\t\t\t\t_logBlob = [];\r\n\t\t\t\t_logBathedSender = undefined;\r\n\t\t\t}, BATCH_BLOB_TIME);\r\n\t\t}\r\n\r\n\t\tif (_logBlob.length >= BATCH_BLOBS) {\r\n\t\t\t_sendLog(_logBlob);\r\n\t\t\t_logBlob = [];\r\n\r\n\t\t\tclearTimeout(_logBathedSender);\r\n\t\t\t_logBathedSender = undefined;\r\n\t\t}\r\n\r\n\t\tif (_total > _limit) {\r\n\t\t\t_detachLogger(\"limit\");\r\n\t\t}\r\n\t}\r\n\r\n\tfunction logInit({ answer, logType, limit }) {\r\n\t\t_limit = limit;\r\n\t\t_total = 0;\r\n\r\n\t\tsafeCall(\"registerWriter\", [logType, _logWriter]);\r\n\r\n\t\tanswer({ allow: true });\r\n\t}\r\n\r\n\tfunction logStop() {\r\n\t\t_detachLogger(\"manual\");\r\n\t}\r\n\r\n\tfunction testOnDebug({ answer }) {\r\n\t\tif (!AWAY_DEBUG && window._AWAY_DEBUG_) {\r\n\t\t\tconsole.debug(\"AWAY_API attached\");\r\n\t\t}\r\n\r\n\t\tAWAY_DEBUG = window._AWAY_DEBUG_;\r\n\r\n\t\tanswer({ status: !!AWAY_DEBUG });\r\n\t}\r\n\r\n\tfunction directCall({ answer, method, args = [] }) {\r\n\t\ttry {\r\n\t\t\tconst data = safeCall(method, args);\r\n\r\n\t\t\tif (data && typeof data.then === \"function\") {\r\n\t\t\t\tdata.then((result) => {\r\n\t\t\t\t\tanswer({ result });\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tanswer({ result: data });\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tanswer({ error: e });\r\n\t\t}\r\n\t}\r\n\r\n\tfunction trackBounds({ answer, method, args }) {\r\n\r\n\t\tif(!AWAY_DEBUG.getStageCanvas) {\r\n\t\t\treturn answer ({error: \"Bounds debugger not exist on this AWAY Player version.\"});\r\n\t\t}\r\n\r\n\t\tswitch (method) {\r\n\t\t\tcase \"init\": {\r\n\t\t\t\tconst canvas = AWAY_DEBUG.getStageCanvas();\r\n\r\n\t\t\t\tif (!canvas) {\r\n\t\t\t\t\treturn answer({ error: \"Unknow stage!\" });\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst request = () => AWAY_DEBUG.getNodeTree({flat: false, from: 0, rect: true, visibleOnly:true});\r\n\t\t\t\tbbox.init(canvas, request, args);\r\n\r\n\t\t\t\treturn answer({ ok: true });\r\n\t\t\t}\r\n\r\n\t\t\tcase \"dispose\": {\r\n\t\t\t\tbbox.dispose();\r\n\t\t\t\tanswer({ ok: true });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tapi.onFlow(EVENT.DETACH, function () {\r\n\t\tbbox.dispose();\r\n\t});\r\n\tapi.onFlow(EVENT.TEST, testOnDebug);\r\n\tapi.onFlow(EVENT.LOG_INIT, logInit);\r\n\tapi.onFlow(EVENT.LOG_STOP, logStop);\r\n\tapi.onFlow(EVENT.CALL, directCall);\r\n\tapi.onFlow(EVENT.TRACK_BOUNDS, trackBounds);\r\n\r\n\t///\r\n})();\r\n"]}